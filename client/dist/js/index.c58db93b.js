(function(e){function t(t){for(var o,l,i=t[0],s=t[1],u=t[2],r=0,d=[];r<i.length;r++)l=i[r],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&d.push(a[l][0]),a[l]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);b&&b(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},l={index:0},a={index:0},c=[];function i(e){return s.p+"js/"+({Live2d:"Live2d",SpeechControl:"SpeechControl",chat:"chat"}[e]||e)+"."+{Live2d:"ef92a1b9",SpeechControl:"0033bcd7",chat:"a7ff168e"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={Live2d:1,SpeechControl:1,chat:1};l[e]?t.push(l[e]):0!==l[e]&&n[e]&&t.push(l[e]=new Promise((function(t,n){for(var o="css/"+({Live2d:"Live2d",SpeechControl:"SpeechControl",chat:"chat"}[e]||e)+"."+{Live2d:"e6e99418",SpeechControl:"5232a72b",chat:"79f1f898"}[e]+".css",a=s.p+o,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],r=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(r===o||r===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],r=u.getAttribute("data-href");if(r===o||r===a)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var o=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete l[e],b.parentNode.removeChild(b),n(c)},b.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(b)})).then((function(){l[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=c);var u,r=document.createElement("script");r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.src=i(e);var d=new Error;u=function(t){r.onerror=r.onload=null,clearTimeout(b);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+l+")",d.name="ChunkLoadError",d.type=o,d.request=l,n[1](d)}a[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:r})}),12e4);r.onerror=r.onload=u,document.head.appendChild(r)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],r=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=r;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"353c":function(e,t,n){},"4dcb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),l={id:"nav"};function a(e,t){var n=Object(o["B"])("router-view");return Object(o["t"])(),Object(o["g"])("div",l,[Object(o["j"])(n)])}var c=n("6b0d"),i=n.n(c);const s={},u=i()(s,[["render",a]]);var r=u,d=n("9319"),b=(n("d3b7"),n("6c02")),p={class:"home"},m={class:"pb15"},j=Object(o["j"])("div",{class:"pb10"},"捕获模式：",-1),g={class:"flex"},h={class:"mr10"},v=Object(o["i"])(" 自由捕获"),f={class:"mr10"},O=Object(o["i"])(" 鼠标按住"),S={class:"mr10"},y=Object(o["i"])(" 鼠标移入"),T={class:"mr10"},k=Object(o["i"])(" 按住空格"),V={class:"mr10"},C=Object(o["i"])(" 禁止捕获"),z={key:0},L={class:"mt10 mb10"},x={class:"mb10"},w={class:"pb10"},U={class:"mb10"},D={class:"pb10"},M={class:"mb10"},B=Object(o["j"])("div",{class:"pb10"},"断句延时(ms)：",-1),I={class:"mb10"},P={class:"pb10"},A=Object(o["i"])(" 立即发送语音控制："),R={class:"mb10"},N={class:"pb10"},_=Object(o["i"])(" 删除语音控制："),F={class:"mb10 mt10"},K=Object(o["j"])("div",{class:"pb10"},"延迟发送(ms)：",-1),E={class:"pb10 pt10"},H={class:"pb10"},q={class:"p-inputgroup mb10"},Y=Object(o["j"])("div",null,"发送队列：",-1),$={class:"pt5"},G={class:"pb15"},J={class:"pb10"},W=Object(o["i"])(" 头像URL："),X={class:"pb15"},Q=Object(o["j"])("div",{class:"pb10"}," live2d模型： ",-1),Z={class:"flex"},ee={class:"mr10"},te=Object(o["i"])(" LiveroiD_A-Y01"),ne={class:"mr10"},oe=Object(o["i"])(" LiveroiD_A-Y02"),le={class:"mr10"},ae=Object(o["i"])(" 桃瀬ひより"),ce={class:"pb15"},ie=Object(o["j"])("div",{class:"pb10"},"是否语音播报：",-1),se={class:"pb15"},ue=Object(o["j"])("div",{class:"pb10"},"语音提供商：",-1),re={class:"pb15"},de=Object(o["j"])("div",{class:"pb10"},[Object(o["i"])(" 声源（参考"),Object(o["j"])("a",{href:"https://docs.microsoft.com/zh-cn/azure/cognitive-services/speech-service/language-support#text-to-speech",target:"_blank"},"Azure文档"),Object(o["i"])("）： ")],-1),be={class:"pb15"},pe=Object(o["j"])("div",{class:"pb10"},"密钥：",-1),me={class:"pb15"},je=Object(o["j"])("div",{class:"pb10"},"位置/区域：",-1),ge={class:"pb15"},he={class:"pb10"},ve={class:"pb15"},fe={class:"pb10"},Oe={class:"pb15"},Se=Object(o["j"])("div",{class:"pb10"},[Object(o["i"])(" 声源（参考"),Object(o["j"])("a",{href:"https://cloud.google.com/text-to-speech",target:"_blank"},"谷歌云文档"),Object(o["i"])("）： ")],-1),ye={class:"pb15"},Te=Object(o["j"])("div",{class:"pb10"}," 语速： ",-1),ke={class:"pb15"},Ve=Object(o["j"])("div",{class:"pb10"}," 语调： ",-1),Ce={class:"pb15"},ze=Object(o["j"])("div",{class:"pb10"},"APPKEY：",-1),Le={class:"pb15"},xe=Object(o["j"])("div",{class:"pb10"},"AccessToken：",-1),we={class:"pb15"},Ue=Object(o["j"])("div",{class:"pb10"},[Object(o["i"])(" 声源（参考"),Object(o["j"])("a",{href:"https://help.aliyun.com/document_detail/84435.htm?spm=a2c4g.11186623.2.22.28cf4a9c70HlT2#topic-2572243",target:"_blank"},"阿里云文档"),Object(o["i"])("）： ")],-1),De={class:"pb15"},Me=Object(o["j"])("div",{class:"pb10"},"气泡聊天窗：",-1),Be={class:"pb15"},Ie=Object(o["j"])("div",{class:"pb10"},"live2d：",-1);function Pe(e,t,n,l,a,c){var i=Object(o["B"])("ConfirmDialog"),s=Object(o["B"])("RadioButton"),u=Object(o["B"])("ProgressBar"),r=Object(o["B"])("Slider"),d=Object(o["B"])("InputNumber"),b=Object(o["B"])("InputSwitch"),Pe=Object(o["B"])("InputText"),Ae=Object(o["B"])("Button"),Re=Object(o["B"])("Panel"),Ne=Object(o["B"])("Avatar"),_e=Object(o["B"])("SelectButton"),Fe=Object(o["B"])("Password"),Ke=Object(o["B"])("Toast");return Object(o["t"])(),Object(o["g"])("div",p,[Object(o["j"])(i),Object(o["j"])(Re,{header:"语音获取",class:"mb15"},{default:Object(o["K"])((function(){return[Object(o["j"])("div",m,[j,Object(o["j"])("div",g,[Object(o["j"])("div",h,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"getType",value:"1",modelValue:a.getType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.getType=e}),onChange:c.getTypeChange},null,8,["modelValue","onChange"]),v])]),Object(o["j"])("div",f,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"getType",value:"2",modelValue:a.getType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.getType=e}),onChange:c.getTypeChange},null,8,["modelValue","onChange"]),O])]),Object(o["j"])("div",S,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"getType",value:"3",modelValue:a.getType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.getType=e}),onChange:c.getTypeChange},null,8,["modelValue","onChange"]),y])]),Object(o["j"])("div",T,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"getType",value:"4",modelValue:a.getType,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.getType=e}),onChange:c.getTypeChange},null,8,["modelValue","onChange"]),k])]),Object(o["j"])("div",V,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"getType",value:"0",modelValue:a.getType,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.getType=e}),onChange:c.getTypeChange},null,8,["modelValue","onChange"]),C])])]),a.analyser&&"1"===a.getType?(Object(o["t"])(),Object(o["g"])("div",z,[Object(o["j"])("div",L,[Object(o["j"])(u,{value:a.volLevel/a.voiceSizeSensitivity},null,8,["value"])]),Object(o["j"])("div",x,[Object(o["j"])("div",w,"阈值("+Object(o["F"])(a.voiceThreshold)+")：",1),Object(o["j"])(r,{modelValue:a.voiceThreshold,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.voiceThreshold=e}),min:0,max:100,onChange:c.voiceThresholdChange},null,8,["modelValue","onChange"])]),Object(o["j"])("div",U,[Object(o["j"])("div",D,"灵敏度("+Object(o["F"])(-a.minDecibels)+"dB)：",1),Object(o["j"])(r,{modelValue:a.minDecibels,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.minDecibels=e}),onChange:c.minDecibelsChange,min:31,max:100},null,8,["modelValue","onChange"])]),Object(o["j"])("div",M,[B,Object(o["j"])(d,{modelValue:a.breakTime,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.breakTime=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:1,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:100,max:1e4},null,8,["modelValue"])]),Object(o["j"])("div",I,[Object(o["j"])("div",P,[A,Object(o["j"])(b,{modelValue:a.speedSendFlag,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.speedSendFlag=e})},null,8,["modelValue"])]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])(Pe,{placeholder:"当语音说这个词的时候就会立即发送语音",modelValue:a.speedSendText,"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.speedSendText=e}),class:"input-text-full"},null,8,["modelValue"])],512),[[o["I"],a.speedSendFlag]])]),Object(o["j"])("div",R,[Object(o["j"])("div",N,[_,Object(o["j"])(b,{modelValue:a.speedDeleteFlag,"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.speedDeleteFlag=e})},null,8,["modelValue"])]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])(Pe,{placeholder:"当语音说这个词的时候就会删除语音",modelValue:a.speedDeleteText,"onUpdate:modelValue":t[12]||(t[12]=function(e){return a.speedDeleteText=e}),class:"input-text-full"},null,8,["modelValue"])],512),[[o["I"],a.speedDeleteFlag]])])])):Object(o["h"])("",!0),Object(o["j"])("div",null,[Object(o["j"])("div",F,[K,Object(o["j"])(d,{modelValue:a.sendTimeDaly,"onUpdate:modelValue":t[13]||(t[13]=function(e){return a.sendTimeDaly=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:1,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:0},null,8,["modelValue"])])]),Object(o["j"])("div",E,[Object(o["j"])(Ae,{label:"复制控制器URL",class:"p-button-raised p-button-text p-button-sm p-button-mr10",onClick:t[14]||(t[14]=function(e){return c.copyControlUrl("speechcontrol")})}),Object(o["j"])(Ae,{label:"打开控制器",class:"p-button-raised p-button-text p-button-sm",onClick:t[15]||(t[15]=function(e){return c.openControlUrl("speechcontrol")})})])]),Object(o["j"])("div",H,"状态："+Object(o["F"])(a.status),1),Object(o["j"])("div",q,[Object(o["j"])(Pe,{placeholder:"编辑内容",modelValue:a.message,"onUpdate:modelValue":t[16]||(t[16]=function(e){return a.message=e}),onKeypress:Object(o["M"])(c.sendByUser,["enter"])},null,8,["modelValue","onKeypress"]),Object(o["j"])(Ae,{label:"手动发送",onClick:c.sendByUser,onKeypress:Object(o["M"])(c.sendByUser,["enter"])},null,8,["onClick","onKeypress"])]),Object(o["L"])(Object(o["j"])("div",null,[Y,(Object(o["t"])(!0),Object(o["g"])(o["a"],null,Object(o["z"])(a.sendList,(function(e){return Object(o["t"])(),Object(o["g"])("div",{key:e.id,class:"send-list"},[Object(o["j"])("div",null,[Object(o["i"])(Object(o["F"])(e.message)+" ",1),Object(o["j"])(Ae,{label:"立刻发送",class:"p-button-text nopadding-btn",onClick:function(t){return c.quickSend(e)}},null,8,["onClick"]),Object(o["j"])(Ae,{label:"编辑",class:"p-button-text p-button-help nopadding-btn",onClick:function(t){return c.editMessage(e)}},null,8,["onClick"]),Object(o["j"])(Ae,{label:"删除",class:"p-button-text p-button-danger nopadding-btn",onClick:function(t){return c.deleteMessage(e.id)}},null,8,["onClick"])]),Object(o["j"])("div",$,[Object(o["j"])(u,{class:"send-time-progress",showValue:!1,value:100*(1-(e.sendTime-a.timeNow)/(e.sendTime-e.addTime))},null,8,["value"])])])})),128))],512),[[o["I"],a.sendTimeDaly>0]])]})),_:1}),Object(o["j"])(Re,{header:"全局设置",class:"mb15"},{default:Object(o["K"])((function(){return[Object(o["j"])("form",null,[Object(o["j"])("div",G,[Object(o["j"])("div",J,[W,a.avatarPre?(Object(o["t"])(),Object(o["g"])(Ne,{key:0,shape:"circle",image:a.avatarPre},null,8,["image"])):Object(o["h"])("",!0)]),Object(o["j"])("div",null,[Object(o["j"])(Pe,{class:"input-text-full",onBlur:c.changeAvatar,placeholder:"设置头像URL",modelValue:a.avatar,"onUpdate:modelValue":t[17]||(t[17]=function(e){return a.avatar=e})},null,8,["onBlur","modelValue"])])]),Object(o["j"])("div",X,[Q,Object(o["j"])("div",Z,[Object(o["j"])("div",ee,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"selModel",value:"LiveroiD_A-Y01",modelValue:a.selModel,"onUpdate:modelValue":t[18]||(t[18]=function(e){return a.selModel=e})},null,8,["modelValue"]),te])]),Object(o["j"])("div",ne,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"selModel",value:"LiveroiD_A-Y02",modelValue:a.selModel,"onUpdate:modelValue":t[19]||(t[19]=function(e){return a.selModel=e})},null,8,["modelValue"]),oe])]),Object(o["j"])("div",le,[Object(o["j"])("label",null,[Object(o["j"])(s,{name:"selModel",value:"hiyori",modelValue:a.selModel,"onUpdate:modelValue":t[20]||(t[20]=function(e){return a.selModel=e})},null,8,["modelValue"]),ae])])])]),Object(o["j"])("div",ce,[ie,Object(o["j"])("div",null,[Object(o["j"])(b,{modelValue:a.isSpeech,"onUpdate:modelValue":t[21]||(t[21]=function(e){return a.isSpeech=e})},null,8,["modelValue"])])]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])("div",se,[ue,Object(o["j"])("div",null,[Object(o["j"])(_e,{modelValue:a.cloudSel,"onUpdate:modelValue":t[22]||(t[22]=function(e){return a.cloudSel=e}),options:a.cloudList,optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])])]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])("div",re,[de,Object(o["j"])("div",null,[Object(o["j"])(Pe,{class:"input-text-full",modelValue:a.azureVoice,"onUpdate:modelValue":t[23]||(t[23]=function(e){return a.azureVoice=e})},null,8,["modelValue"])])]),Object(o["j"])("div",be,[pe,Object(o["j"])("div",null,[Object(o["j"])(Fe,{feedback:!1,class:"input-text-full",modelValue:a.azureKey,"onUpdate:modelValue":t[24]||(t[24]=function(e){return a.azureKey=e}),toggleMask:""},null,8,["modelValue"])])]),Object(o["j"])("div",me,[je,Object(o["j"])("div",null,[Object(o["j"])(Fe,{feedback:!1,class:"input-text-full",modelValue:a.azureRegion,"onUpdate:modelValue":t[25]||(t[25]=function(e){return a.azureRegion=e}),toggleMask:""},null,8,["modelValue"])])]),Object(o["j"])("div",ge,[Object(o["j"])("div",he,"语速("+Object(o["F"])(a.azureRate)+"%)：",1),Object(o["j"])("div",null,[Object(o["j"])(d,{modelValue:a.azureRate,"onUpdate:modelValue":t[26]||(t[26]=function(e){return a.azureRate=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:1,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:10,max:300},null,8,["modelValue"])])]),Object(o["j"])("div",ve,[Object(o["j"])("div",fe," 语调("+Object(o["F"])(a.azurePitch>0?"+".concat(a.azurePitch):"".concat(a.azurePitch))+"Hz)： ",1),Object(o["j"])("div",null,[Object(o["j"])(d,{modelValue:a.azurePitch,"onUpdate:modelValue":t[27]||(t[27]=function(e){return a.azurePitch=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:1,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:-200,max:200},null,8,["modelValue"])])])],512),[[o["I"],"azure"===a.cloudSel]]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])("div",Oe,[Se,Object(o["j"])("div",null,[Object(o["j"])(Pe,{class:"input-text-full",modelValue:a.googleVoice,"onUpdate:modelValue":t[28]||(t[28]=function(e){return a.googleVoice=e})},null,8,["modelValue"])])]),Object(o["j"])("div",ye,[Te,Object(o["j"])("div",null,[Object(o["j"])(d,{modelValue:a.googleSpeakingRate,"onUpdate:modelValue":t[29]||(t[29]=function(e){return a.googleSpeakingRate=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:.01,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:.25,max:4},null,8,["modelValue"])])]),Object(o["j"])("div",ke,[Ve,Object(o["j"])("div",null,[Object(o["j"])(d,{modelValue:a.googlePitch,"onUpdate:modelValue":t[30]||(t[30]=function(e){return a.googlePitch=e}),modelModifiers:{number:!0},showButtons:"",buttonLayout:"horizontal",step:1,incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",min:-20,max:20},null,8,["modelValue"])])])],512),[[o["I"],"googleCloud"===a.cloudSel]]),Object(o["L"])(Object(o["j"])("div",null,[Object(o["j"])("div",Ce,[ze,Object(o["j"])("div",null,[Object(o["j"])(Fe,{feedback:!1,class:"input-text-full",modelValue:a.appkey,"onUpdate:modelValue":t[31]||(t[31]=function(e){return a.appkey=e}),toggleMask:""},null,8,["modelValue"])])]),Object(o["j"])("div",Le,[xe,Object(o["j"])("div",null,[Object(o["j"])(Fe,{feedback:!1,class:"input-text-full",modelValue:a.AccessToken,"onUpdate:modelValue":t[32]||(t[32]=function(e){return a.AccessToken=e}),toggleMask:""},null,8,["modelValue"])])]),Object(o["j"])("div",we,[Ue,Object(o["j"])("div",null,[Object(o["j"])(Pe,{class:"input-text-full",modelValue:a.voice,"onUpdate:modelValue":t[33]||(t[33]=function(e){return a.voice=e})},null,8,["modelValue"])])])],512),[[o["I"],"aliyun"===a.cloudSel]])],512),[[o["I"],a.isSpeech]]),Object(o["j"])(Ae,{label:"发送设置",class:"p-button-sm",onClick:c.saveSetting},null,8,["onClick"])])]})),_:1}),Object(o["j"])(Re,{header:"获取地址"},{default:Object(o["K"])((function(){return[Object(o["j"])("div",De,[Me,Object(o["j"])("div",null,[Object(o["j"])(Ae,{label:"复制聊天窗URL",class:"p-button-raised p-button-text p-button-sm p-button-mr10",onClick:t[34]||(t[34]=function(e){return c.copyControlUrl("chat")})}),Object(o["j"])(Ae,{label:"打开聊天窗",class:"p-button-raised p-button-text p-button-sm",onClick:t[35]||(t[35]=function(e){return c.openControlUrl("chat")})})])]),Object(o["j"])("div",Be,[Ie,Object(o["j"])("div",null,[Object(o["j"])(Ae,{label:"复制live2d URL",class:"p-button-raised p-button-text p-button-sm p-button-mr10",onClick:t[36]||(t[36]=function(e){return c.copyControlUrl("live2d")})}),Object(o["j"])(Ae,{label:"打开live2d",class:"p-button-raised p-button-text p-button-sm",onClick:t[37]||(t[37]=function(e){return c.openControlUrl("live2d")})})])])]})),_:1}),Object(o["j"])(Ke,{position:"top-center"})])}n("99af"),n("4de4"),n("7db0"),n("4160"),n("a9e3"),n("9129"),n("ac1f"),n("5319"),n("159b"),n("96cf");var Ae=n("1da1"),Re=n("8055"),Ne=n.n(Re),_e=n("41cf"),Fe=n("8398"),Ke=n("bb57"),Ee=n("1e2d"),He=n("48d5"),qe=n("f4ad"),Ye=n("a5af"),$e=n("b3b6"),Ge=n("b35c"),Je=n("e6a9"),We=n.n(Je),Xe=n("3822"),Qe=n("a034"),Ze=(n("13d5"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),{start:function(){var e=window.navigator;e.getUserMedia=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;var t=window.AudioContext||window.webkitAudioContext,n=!(!e.getUserMedia||!t),o=n&&new t;return new Promise((function(t,n){e.getUserMedia({audio:!0},(function(e){var n=o.createMediaStreamSource(e),l=o.createAnalyser();n.connect(l),l.fftSize=2048,t(l)}),(function(){n()}))}))},getVoiceSize:function(e){var t=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(t);var n=t,o=n.reduce((function(e,t){return e+t}));return o}}),et=n("c045"),tt=n("14f2"),nt=n("9383"),ot={name:"Home",components:{InputText:Fe["a"],Button:Ke["a"],Panel:Ee["a"],Avatar:He["a"],InputSwitch:qe["a"],SelectButton:Ye["a"],Toast:$e["a"],RadioButton:Ge["a"],InputNumber:Xe["a"],Password:Qe["a"],ProgressBar:et["a"],Slider:tt["a"],ConfirmDialog:nt["a"]},data:function(){return{rec:null,message:"",avatarPre:"",socket:null,status:"未启动",getType:"0",cloudList:[{name:"谷歌娘(仅海外)",value:"googleNiang"},{name:"谷歌云(仅海外)",value:"googleCloud"},{name:"阿里云智能语音交互",value:"aliyun"},{name:"微软Azure",value:"azure"}],isSpeech:!1,avatar:"",cloudSel:"googleNiang",appkey:"",AccessToken:"",voice:"xiaoyun",googleVoice:"cmn-CN-Wavenet-A",googlePitch:0,googleSpeakingRate:1,azureKey:"",azureRegion:"",azureVoice:"zh-CN-XiaoxiaoNeural",azureRate:100,azurePitch:0,selModel:"LiveroiD_A-Y01",timer:null,voiceTimer:null,analyser:null,volLevel:0,speechOn:!1,voiceSizeSensitivity:1e3,startListenAudio:!1,minDecibels:localStorage.getItem("minDecibels")?Number(localStorage.getItem("minDecibels")):75,voiceThreshold:localStorage.getItem("voiceThreshold")?Number(localStorage.getItem("voiceThreshold")):10,breakTime:localStorage.getItem("breakTime")?Number(localStorage.getItem("breakTime")):800,sendList:[],sendTimeDaly:localStorage.getItem("sendTimeDaly")?Number(localStorage.getItem("sendTimeDaly")):3e3,timeNow:(new Date).getTime(),speedSendText:localStorage.getItem("speedSendText")||"",speedSendFlag:"true"===localStorage.getItem("speedSendFlag"),speedDeleteText:localStorage.getItem("speedDeleteText")||"",speedDeleteFlag:"true"===localStorage.getItem("speedDeleteFlag")}},computed:{},watch:{status:function(){this.sendHomeStatus()},sendTimeDaly:function(e){localStorage.setItem("sendTimeDaly",e)},breakTime:function(e){console.log(e),localStorage.setItem("breakTime",e)},speedSendFlag:function(e){console.log(e),localStorage.setItem("speedSendFlag",e)},speedSendText:function(e){console.log(e),localStorage.setItem("speedSendText",e)},speedDeleteFlag:function(e){console.log(e),localStorage.setItem("speedDeleteFlag",e)},speedDeleteText:function(e){console.log(e),localStorage.setItem("speedDeleteText",e)},sendList:{handler:function(e){console.log(e),this.socket.emit("sendMessageListData",e)},deep:!0}},methods:{quickSend:function(e){e["sendTime"]=this.timeNow},editMessage:function(e){this.message=e.message,this.deleteMessage(e.id)},deleteMessage:function(e){this.sendList=this.sendList.filter((function(t){return t.id!==e}))},initTime:function(){var e=this;_e["b"]((function(){e.sendList.length>0&&(e.timeNow=(new Date).getTime(),e.doSendMessageList())}),42)},voiceThresholdChange:function(){localStorage.setItem("voiceThreshold",this.voiceThreshold)},initAudioListen:function(){var e=this;Ze.start().then((function(t){e.analyser=t,e.minDecibelsChange(),e.startGetVoiceSize()}))},minDecibelsChange:function(){this.analyser.minDecibels=-this.minDecibels,localStorage.setItem("minDecibels",this.minDecibels)},startGetVoiceSize:function(){var e=this;this.timer=_e["b"]((function(){if("1"===e.getType){var t=Ze.getVoiceSize(e.analyser);t/e.voiceSizeSensitivity>e.voiceThreshold?(e.voiceTimer&&(_e["a"](e.voiceTimer),e.voiceTimer=null),e.speechOn=!0):e.speechOn&&!e.voiceTimer&&(clearTimeout(e.voiceTimer),e.voiceTimer=null,e.voiceTimer=_e["c"]((function(){e.speechOn&&(e.speechStop(),console.log("断句")),e.voiceTimer=null}),e.breakTime)),e.volLevel=t}}),30)},sendHomeStatus:function(){this.socket.emit("sendHomeStatus",{status:this.status,getType:this.getType})},openControlUrl:function(e){window.open("".concat(window.location.origin,"/").concat(e),"_blank")},copyControlUrl:function(e){var t=this;return Object(Ae["a"])(regeneratorRuntime.mark((function n(){var o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=We()(),l=o.toClipboard,n.prev=1,n.next=4,l("".concat(window.location.origin,"/").concat(e));case 4:t.$toast.add({severity:"success",summary:"成功",detail:"复制成功",life:3e3}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),t.$toast.add({severity:"errro",summary:"失败",detail:"复制失败",life:3e3});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},saveSetting:function(){var e={isSpeech:this.isSpeech,avatar:this.avatar,cloudSel:this.cloudSel,appkey:this.appkey,AccessToken:this.AccessToken,voice:this.voice,googleVoice:this.googleVoice,googlePitch:this.googlePitch,googleSpeakingRate:this.googleSpeakingRate,azureKey:this.azureKey,azureRegion:this.azureRegion,azureVoice:this.azureVoice,azureRate:this.azureRate,azurePitch:this.azurePitch,selModel:this.selModel};this.socket.emit("settingData",e),this.$toast.add({severity:"success",summary:"发送成功",detail:"发送成功",life:3e3}),localStorage.setItem("liveSpeechSetting",JSON.stringify(e))},sendByUser:function(){if(""===this.message)return!1;this.addToSendList(this.message),this.message=""},changeAvatar:function(){this.avatarPre=this.avatar},toSocket:function(){var e=this;this.socket=Ne.a.connect("/socketchat"),this.socket.on("connect",(function(){console.log("已连接");var t={isSpeech:e.isSpeech,avatar:e.avatar,cloudSel:e.cloudSel,appkey:e.appkey,AccessToken:e.AccessToken,voice:e.voice,googleVoice:e.googleVoice,googlePitch:e.googlePitch,googleSpeakingRate:e.googleSpeakingRate,azureKey:e.azureKey,azureRegion:e.azureRegion,azureVoice:e.azureVoice,azureRate:e.azureRate,azurePitch:e.azurePitch,selModel:e.selModel};e.socket.emit("settingData",t),e.socket.on("getControlSpeech",(function(t){"2"===e.getType||"3"===e.getType||"4"===e.getType?t?e.speechStart():e.speechStop():"1"===e.getType&&(t||e.speechStop())})),e.socket.on("speechWantHomeStatus",(function(){e.sendHomeStatus()})),e.socket.on("getSpeechControlText",(function(t){t&&e.addToSendList(t)})),e.socket.on("getMessageListId",(function(t){var n=t.id,o=t.type,l=e.sendList.find((function(e){return e.id===n}));switch(o){case"editMessage":case"deleteMessage":e.deleteMessage(n);break;case"quickSend":l&&e.quickSend(l);break;default:break}})),e.socket.on("getSpeechControlStatus",(function(t){switch(e.getType=t.getType,e.getType){case"0":e.speechStop();break;case"1":e.speechStart();break;case"2":e.speechStop();break;case"3":e.speechStop();break;case"4":e.speechStop();break;default:break}}))})),this.socket.on("disconnect",(function(){console.log("已断开")}))},addToSendList:function(e){this.sendList.push({id:String((new Date).getTime())+"-"+String(Math.floor(1e3*Math.random())),message:e,addTime:(new Date).getTime(),sendTime:(new Date).getTime()+this.sendTimeDaly})},doSendMessageList:function(){var e=this;if(this.sendList.length>0){var t=this.timeNow,n=0;this.sendList.forEach((function(o){t>=o.sendTime&&(e.send(o.message),n++)})),n>0&&(this.sendList=this.sendList.filter((function(e){return t<e.sendTime})))}},send:function(e){this.socket.emit("send",{message:e})},getTypeChange:function(){switch(this.getType){case"0":this.speechStop();break;case"1":this.speechStart();break;case"2":this.speechStop();break;case"3":this.speechStop();break;case"4":this.speechStop();break;default:break}this.sendHomeStatus()},speechStart:function(){this.rec.start()},speechStop:function(){this.rec.stop()},initSpeech:function(){var e=this,t=new window.webkitSpeechRecognition;this.rec=t,t.continuous=!0,t.interimResults=!1,t.lang="cmn-Hans-CN",t.onresult=function(t){console.log("on result"),console.log(t);var n=t.results[t.resultIndex][0],o=n.transcript,l=n.confidence;if(console.log("Recognised: ".concat(o)),console.log("confidence: ".concat(l)),console.log("speechOn: ".concat(e.speechOn)),"1"===e.getType){if(e.speechOn){e.speechOn=!1;var a=e.sendList[0];if(e.speedSendFlag&&o.replace(/[，。.,/#!$%^&*;:{}=\-_`~()]/g,"")===e.speedSendText)return a&&e.quickSend(a),!1;if(e.speedDeleteFlag&&o.replace(/[，。.,/#!$%^&*;:{}=\-_`~()]/g,"")===e.speedDeleteText)return a&&e.deleteMessage(a.id),!1;e.addToSendList(o)}}else e.addToSendList(o)},t.onstart=function(){console.log("on start"),e.status="初始化中"},t.onerror=function(){console.log("on start"),e.status="发生错误"},t.onend=function(){console.log("on end"),"1"===e.getType?t.start():e.status="未启动",e.speechOn=!1},t.onspeechstart=function(){console.log("on speech start")},t.onspeechend=function(){console.log("on speech end")},t.onosundstart=function(){console.log("on sound start")},t.onsoundend=function(){console.log("on sound end")},t.onaudiostart=function(){console.log("on audio start"),e.status="监听中..."},t.onaudioend=function(){console.log("on audio end")}},init:function(){var e=localStorage.getItem("liveSpeechSetting")||"";if(e){var t=JSON.parse(e);this.isSpeech=!!t.isSpeech,this.avatar=t.avatar||"",this.cloudSel=t.cloudSel||"googleNiang",this.appkey=t.appkey||"",this.AccessToken=t.AccessToken||"",this.voice=t.voice||"xiaoyun",this.googleVoice=t.googleVoice||"cmn-CN-Wavenet-A",this.googlePitch=Number.isNaN(Number(t.googlePitch))?0:Number(t.googlePitch),this.googleSpeakingRate=Number.isNaN(Number(t.googleSpeakingRate))?1:Number(t.googleSpeakingRate),this.azureKey=t.azureKey||"",this.azureRegion=t.azureRegion||"",this.azureVoice=t.azureVoice||"zh-CN-XiaoxiaoNeural",this.azureRate=t.azureRate||1,this.azurePitch=t.azurePitch||0,this.selModel=t.selModel||"LiveroiD_A-Y01"}this.avatarPre=this.avatar,this.toSocket(),this.initSpeech()}},created:function(){},mounted:function(){var e=this;this.init(),this.initTime(),this.$confirm.require({message:"点击获取权限！",header:"欢迎使用",icon:"pi pi-exclamation-triangle",acceptLabel:"确定",rejectClass:"nonoBtn",accept:function(){e.startListenAudio||e.initAudioListen()},reject:function(){e.startListenAudio||e.initAudioListen()}})},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeUnmount:function(){},unmounted:function(){},activated:function(){}};n("d6d9");const lt=i()(ot,[["render",Pe]]);var at=lt,ct=[{path:"/",name:"home",component:at},{path:"/chat",name:"chat",component:function(){return n.e("chat").then(n.bind(null,"293a"))}},{path:"/speechcontrol",name:"SpeechControl",component:function(){return n.e("SpeechControl").then(n.bind(null,"7275"))}},{path:"/live2d",name:"Live2d",component:function(){return n.e("Live2d").then(n.bind(null,"c6d1"))}}],it=Object(b["a"])({history:Object(b["b"])("/"),routes:ct}),st=it,ut=n("5502"),rt=Object(ut["a"])({state:{},mutations:{},actions:{},modules:{}}),dt=n("485c"),bt=n("b24b");n("4dcb"),n("e1ae"),n("098b"),n("4121"),n("bddf");Object(o["f"])(r).use(rt).use(st).use(d["a"]).use(dt["a"]).use(bt["a"]).mount("#app")},d6d9:function(e,t,n){"use strict";n("353c")}});
//# sourceMappingURL=index.c58db93b.js.map